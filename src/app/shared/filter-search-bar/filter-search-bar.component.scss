/* From Uiverse.io by vinodjangid07 */ 
.InputContainer {
  width: auto;
  height: 40px;
  display: flex;
  align-items: center;
  background-color: rgb(255, 255, 255);
  border-radius: 10px;
  overflow: visible !important;
  cursor: pointer;
  padding-left: 5px;
  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
  margin-bottom: 10px;
  position: relative !important;
  padding-right: 10px;
  z-index: 10;
  flex-shrink: 0; // Kh√¥ng cho ph√©p InputContainer shrink
  
  // Responsive cho container
  @media (max-width: 768px) {
    width: 100%;
    min-width: 300px;
    max-width: 100%;
  }
}

.input {
  // margin-left: 170px;
  width: 170px;
  min-width: 150px;
  height: 36px;
  border: none;
  outline: none;
  font-size: 0.9em;
  caret-color: rgb(255, 81, 0);
  transition: all 0.3s ease;
  flex-shrink: 1;
  
  &.push-to-talk-mode {
    background-color: rgba(255, 81, 0, 0.05);
    color: rgba(255, 81, 0, 0.8);
    font-style: italic;
    cursor: not-allowed;
    
    &::placeholder {
      color: rgba(255, 81, 0, 0.6);
      font-weight: 500;
    }
  }
  
  &:disabled {
    cursor: not-allowed;
    opacity: 0.7;
  }
}

.labelforsearch {
  cursor: text;
  display: flex;
  padding: 0px 12px;
}

.searchIcon {
  width: 13px;
}

.border {
  height: 40%;
  width: 1.3px;
  background-color: rgb(223, 223, 223);
}

// micIcon styling moved to combined block below

.micButton {
  padding: 0px 15px 0px 12px;
  border: none;
  background-color: transparent;
  height: 30px;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  border-radius: 5px;
  outline: none;
  
  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }
  
  &.listening {
    background-color: rgba(255, 81, 0, 0.2);
    animation: pulse 1.5s infinite;
  }
}

.searchIcon path {
  fill: rgb(114, 114, 114);
}

.micIcon {
  width: 12px;
  transition: fill 0.3s ease;
  
  path {
    fill: rgb(255, 81, 0);
  }
  
  &.active path {
    fill: rgb(255, 255, 255);
  }
}

.micButton:hover:not(:disabled) {
  background-color: rgb(255, 230, 230);
}

.micButton.listening:hover {
  background-color: rgba(255, 81, 0, 0.3);
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(255, 81, 0, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(255, 81, 0, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(255, 81, 0, 0);
  }
}

// Push-to-talk indicator
.push-to-talk-indicator {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(255, 81, 0, 0.9);
  color: white;
  padding: 12px 16px;
  border-radius: 25px;
  font-size: 14px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 10px;
  z-index: 500;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  animation: slideInUp 0.3s ease-out;
  
  .mic-icon {
    width: 16px;
    height: 16px;
    animation: pulse 1s infinite;
    flex-shrink: 0;
  }
  
  .indicator-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
    
    .auto-search-hint {
      font-size: 11px;
      opacity: 0.8;
      font-weight: 400;
      font-style: italic;
    }
  }
  
  .key-indicator {
    background: rgba(255, 255, 255, 0.2);
    padding: 4px 8px;
    border-radius: 4px;
    font-family: monospace;
    font-weight: bold;
    font-size: 11px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    flex-shrink: 0;
    white-space: nowrap;
  }
}

@keyframes slideInUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

// Visual hint for Shift+V key
.v-key-hint {
  position: absolute;
  bottom: -25px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 200;
  
  kbd {
    background: rgba(255, 255, 255, 0.2);
    padding: 2px 4px;
    border-radius: 2px;
    font-family: monospace;
    font-size: 10px;
    margin: 0 1px;
  }
  
  &::before {
    content: '';
    position: absolute;
    top: -4px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-bottom: 4px solid rgba(0, 0, 0, 0.8);
  }
}

.InputContainer:hover .v-key-hint {
  opacity: 1;
}

// Simple shortcuts icon
.compact-hints {
  position: absolute;
  top: -8px;
  right: -8px;
  z-index: 100;
  
  .shortcuts-icon {
    display: inline-block;
    width: 22px;
    height: 22px;
    background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
    border-radius: 50%;
    text-align: center;
    line-height: 22px;
    font-size: 12px;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);
    transition: all 0.3s ease;
    color: white;
    user-select: none;
    
    &:hover {
      transform: scale(1.15);
      box-shadow: 0 4px 16px rgba(33, 150, 243, 0.4);
      background: linear-gradient(135deg, #1976D2 0%, #0D47A1 100%);
    }
    
    &:active {
      transform: scale(0.95);
    }
  }
}

// Shortcuts Popup
.shortcuts-popup-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: fadeIn 0.3s ease;
}

.shortcuts-popup {
  background: white;
  border-radius: 16px;
  max-width: 500px;
  width: 90%;
  overflow-y: auto;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
  animation: slideUp 0.3s ease;
  
  .popup-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px 16px;
    border-bottom: 1px solid #E5E5E5;
    
    h3 {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
      color: #333;
    }
    
    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #666;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.2s ease;
      
      &:hover {
        background: #F5F5F5;
        color: #333;
      }
    }
  }
  
  .shortcuts-content {
    max-height: 70vh;
    overflow: auto;
    padding: 20px 24px;
    
    .shortcut-section {
      margin-bottom: 24px;
      
      &:last-child {
        margin-bottom: 0;
      }
      
      h4 {
        margin: 0 0 12px 0;
        font-size: 14px;
        font-weight: 600;
        color: #555;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      
      .shortcut-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 12px;
        margin-bottom: 6px;
        background: #F8F9FA;
        border-radius: 8px;
        transition: background 0.2s ease;
        
        &:hover {
          background: #E9ECEF;
        }
        
        &:last-child {
          margin-bottom: 0;
        }
        
        kbd {
          background: linear-gradient(135deg, #fff 0%, #f1f3f4 100%);
          padding: 4px 8px;
          border-radius: 4px;
          font-family: 'Segoe UI', system-ui, sans-serif;
          font-size: 12px;
          font-weight: 600;
          margin-right: 4px;
          border: 1px solid rgba(0, 0, 0, 0.15);
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.7);
          color: #333;
          
          &:last-of-type {
            margin-right: 8px;
          }
        }
        
        span {
          flex: 1;
          font-size: 13px;
          color: #666;
        }
      }
    }
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.eventTypeSelect{
  margin-right: 10px;
}

.custom-dropdown {
  margin-right: 10px;
  position: relative;
  width: 200px;
  font-family: sans-serif;
}

.selected-option {
  padding: 10px 14px;
  border: 1px solid #ccc;
  border-radius: 8px;
  background-color: #fff;
  cursor: pointer;
  transition: border-color 0.3s;
}

.selected-option:hover {
  border-color: #999;
}

.dropdown-options {
  position: absolute;
  top: 105%;
  left: 0;
  right: 0;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 8px;
  display: none;
  z-index: 10;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.dropdown-options div {
  padding: 10px 14px;
  cursor: pointer;
}

.dropdown-options div:hover {
  background-color: #f1f1f1;
}

.dropdown-container {
  position: relative;
  display: inline-block;
  width: 220px;
}

.dropdown-trigger {
  padding: 10px 14px;
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 10px;
  cursor: pointer;
  font-size: 14px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 1;
}

.dropdown-tooltip {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  width: 100%;
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 10px;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
  opacity: 0;
  pointer-events: none;
  z-index: -1;
  transition: opacity 0.2s ease, transform 0.2s ease;
  transform: translateY(-8px);
}

.dropdown-tooltip.show {
  opacity: 1;
  pointer-events: auto;
  z-index: 999;
  transform: translateY(0);
}

.dropdown-item {
  padding: 10px 14px;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.2s;
}

.dropdown-item:hover {
  background-color: #f0f0f0;
}

.arrow {
  font-size: 12px;
}

.labelforsearch {
  cursor: pointer;
  padding: 8px;
  border-radius: 6px;
  transition: all 0.2s ease;
  
  &:hover {
    background-color: rgba(25, 118, 210, 0.08);
    
    .searchIcon {
      fill: #1976D2;
      transform: scale(1.1);
    }
  }
}

.micButton {
  padding: 8px;
  border-radius: 6px;
  transition: all 0.2s ease;
  
  &:hover:not(:disabled) {
    background-color: rgba(25, 118, 210, 0.08);
    
    .micIcon {
      fill: #1976D2;
      transform: scale(1.1);
    }
  }
  
  &.listening {
    background-color: rgba(244, 67, 54, 0.1);
    animation: pulse 1.5s infinite;
    
    .micIcon {
      fill: #f44336;
    }
  }
}

.InputContainer {
  margin-bottom: 0;
  cursor: pointer;
  position: relative; // ƒê·∫£m b·∫£o tooltip d√πng ƒë∆∞·ª£c absolute
  display: flex;
  align-items: center;
  gap: 10px;
}


/* Dropdown styles */
.dropdown-container {
  position: relative;
  display: inline-block;
  z-index: 10;
}

.dropdown-trigger {
  padding: 8px 12px;
  background-color: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  font-size: 14px;
  color: #3C4043;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 4px;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;

  &:hover {
    background-color: #F5F5F5;
  }
}

.dropdown-tooltip {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  width: max-content;
  min-width: 160px;
  background-color: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  opacity: 0;
  pointer-events: none;
  z-index: -1;
  transform: translateY(-8px);
  transition: all 0.25s ease;
}

.dropdown-tooltip.show {
  opacity: 1;
  pointer-events: auto;
  z-index: 999;
  transform: translateY(0);
}

.dropdown-item {
  padding: 10px 12px;
  cursor: pointer;
  font-size: 14px;
  color: #3C4043;
  transition: background-color 0.2s ease;
}

.dropdown-item:hover {
  background-color: #F5F5F5;
}

::ng-deep .compact-select {
  height: 40px;

  .mat-form-field-wrapper {
    padding: 0;
    height: 100%;
  }

  .mat-form-field-flex {
    height: 100%;
    border-radius: 6px;
    align-items: center;
  }

  .mat-select {
    height: 100%;
    line-height: 40px;
    display: flex;
    align-items: center;
    padding: 0 8px;
    font-size: 14px;
  }

  .mat-select-trigger {
    height: 100%;
    display: flex;
    align-items: center;
  }

  .mat-form-field-outline {
    border-radius: 6px;
  }

  .mat-form-field-infix {
    padding: 0;
  }

  .mat-form-field-label {
    top: -1.6em;
    font-size: 13px;
  }
}

::ng-deep .custom-ng-select .ng-select-container {
  height: 40px;
  font-size: 14px;
  border-radius: 6px;
  padding: 0 8px;
  border: 1px solid #ccc;
}

::ng-deep .custom-ng-select .ng-value {
  background-color: #eef2f5;
  border-radius: 4px;
}

.dropdown-wrapper {
  position: relative !important;
  width: auto;
  text-align: left;
  z-index: 300;
  flex-shrink: 0;
}

.menu-button {
  width: auto;
  min-width: 150px;
  height: 32px;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background-color: #FFFFFF;
  color: #3C4043;
  padding: 8px 13px;
  font-size: 0.875rem;
  border-radius: 0.375rem;
  border: 1px solid #E0E0E0;
  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;

  &:hover {
    background-color: #F5F5F5;
    border-color: #E0E0E0;
  }

  &:hover .chevron-icon {
    stroke: #5F6368;
  }

  
}

.menu-op {
  margin-top: 4px;
}

.chevron-icon {
  width: 1rem;
  height: 1rem;
  stroke: #5F6368;
  stroke-width: 2;
  fill: none;
  transition: stroke 0.2s ease;
}

.menu-items {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  margin-top: 4px;
  width: 250px !important;
  margin-bottom: 0 !important;
  background: #FFFFFF !important;
  border: 1px solid #E0E0E0 !important;
  border-radius: 0.5rem;
  padding: 0.25rem;
  font-size: 0.875rem;
  color: #3C4043;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  z-index: 350;
  transition: transform 0.1s ease-out, opacity 0.1s ease-out;
}

.menu-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.375rem 0.75rem;
  background: transparent;
  border: none;
  border-radius: 0.5rem;
  color: #3C4043;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
  height: 30px;

  &:hover {
    background: #F5F5F5;
    color: #1976D2;
    transform: translateX(2px);
    
    .icon-menu {
      filter: brightness(0) saturate(100%) invert(27%) sepia(96%) saturate(1352%) hue-rotate(207deg) brightness(97%) contrast(98%);
      transform: scale(1.1);
    }
    
    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 3px;
      background: #1976D2;
      border-radius: 0 2px 2px 0;
    }
  }

  .shortcut {
    margin-left: auto;
    font-family: sans-serif;
    font-size: 0.75rem;
    color: #5F6368;
    background: rgba(95, 99, 104, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
    opacity: 0;
    transform: translateX(10px);
    transition: all 0.2s ease;
  }

  &:hover .shortcut {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Icon styles cho h·ªá th·ªëng m√†u m·ªõi */
.filter-tags .filter-tag .icon-menu,
.filter-tags-inline .filter-tag .icon-menu,
.search-input-section .filter-tag .icon-menu {
  width: 16px;
  height: 16px;
  margin-right: 0;
  transition: filter 0.2s ease;
  /* M√†u icon theo Material Design #5F6368 */
  filter: brightness(0) saturate(100%) invert(37%) sepia(8%) saturate(539%) hue-rotate(185deg) brightness(96%) contrast(92%);
  flex-shrink: 0;
  
  /* Hide icon and take no space when empty */
  &:empty,
  &:not(:has(*)) {
    display: none;
    width: 0;
    height: 0;
    margin: 0;
  }
} 


.icon-menu {
  width: 20px;
  height: 20px;
} 

.menu-icon {
  width: 1rem;
  height: 1rem;
  fill: #5F6368;
}

.separator {
  height: 1px;
  background: #E0E0E0;
  margin: 0.25rem 0;
}

.menu-button {
  background-color: #FFFFFF;
  color: #3C4043;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  padding: 8px 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    background-color: #F5F5F5;
  }
  // ...
}

.menu-items {
  background-color: #2d2d2d; 
  border: 1px solid rgba(255, 255, 255, 0.1);
  // ...
}

.menu-item:hover {
  background-color: rgba(255, 255, 255, 0.1); 
}

/* Search Row Container - Kh√¥ng c·∫ßn thi·∫øt n·ªØa, ƒë√£ gom v√†o search-input-section */

/* Search Input Section - Ch·ª©a to√†n b·ªô navbar */
.search-input-section {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 12px;
  width: 100%;
  margin: 0;
  padding: 0;
  justify-content: flex-start;
  margin-bottom: 10px;
}

/* Filter tags gi·ªù ƒë√¢y l√† c√°c ph·∫ßn t·ª≠ ri√™ng l·∫ª trong search-input-section, kh√¥ng c·∫ßn container ri√™ng */

/* Modern Filter Tags Design - Keep for backward compatibility */
.filter-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 16px;
  margin-left: 10px;
  animation: fadeInUp 0.3s ease-out;
}

/* üé® H·ªá th·ªëng ph√¢n t·∫ßng m√†u tag theo Material Design */
.filter-tags .filter-tag,
.filter-tags-inline .filter-tag,
.search-input-section .filter-tag {
  /* Base tag styles - Clean & Modern */
  display: inline-flex;
  align-items: center;
  gap: 0; /* No gap by default - will be added when icon exists */
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 13px;
  font-weight: 500;
  line-height: 1.2;
  white-space: nowrap;
  border: none;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease;
  animation: fadeInUp 0.3s ease-out;
  
  /* Default style - Kh√°c/L·ªçc m·ªü r·ªông */
  background: #FCE8E6;
  color: #C5221F;
  
  /* Add gap only when icon exists */
  &:has(.icon-menu) {
    gap: 6px;
  }
  
  // Gradient animation on hover
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
      transparent, 
      rgba(255, 255, 255, 0.2), 
      transparent
    );
    transition: left 0.5s ease;
  }
  
  &:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 
      0 8px 24px rgba(102, 126, 234, 0.4),
      0 4px 8px rgba(0, 0, 0, 0.15);
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
    
    &::before {
      left: 100%;
    }
    
    .remove-btn {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
    }
  }
  
  // Icon styling
  .icon-menu {
    width: 16px;
    height: 16px;
    opacity: 0.9;
    filter: brightness(0) invert(1);
    flex-shrink: 0;
    margin-right: 0;
    
    /* Ensure no space when hidden */
    &:empty,
    &:not(:has(*)) {
      display: none;
      width: 0;
      height: 0;
    }
  }
  
  // Tag label and value styling
  .tag-label {
    font-weight: 600;
    font-size: 12px;
    opacity: 0.9;
    margin-right: 4px;
  }
  
  .tag-value {
    font-weight: 500;
    background: rgba(255, 255, 255, 0.2);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 12px;
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    max-width: 120px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}

/* Remove button cho h·ªá th·ªëng m√†u m·ªõi */
.filter-tags .remove-btn,
.filter-tags-inline .remove-btn,
.search-input-section .remove-btn {
  background: rgba(0, 0, 0, 0.1);
  border: none;
  color: currentColor;
  font-size: 12px;
  font-weight: bold;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  margin-left: 4px;
  opacity: 0.7;
  
  &:hover {
    background: rgba(0, 0, 0, 0.2);
    transform: scale(1.1);
    opacity: 1;
  }
  
  &:active {
    transform: scale(0.95);
  }
}

/* Clear All Button */
.clear-all-btn {
  background: linear-gradient(135deg, #FF6B6B 0%, #EE5A52 100%);
  border: none;
  color: white;
  font-size: 12px;
  font-weight: 600;
  padding: 6px 12px;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 4px;
  transition: all 0.3s ease;
  margin: 4px;
  box-shadow: 0 2px 8px rgba(255, 107, 107, 0.3);
  white-space: nowrap;
  
  &:hover {
    background: linear-gradient(135deg, #FF5252 0%, #D32F2F 100%);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
  }
  
  &:active {
    transform: translateY(0) scale(0.95);
    box-shadow: 0 2px 6px rgba(255, 107, 107, 0.3);
  }
  
  &:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.2);
  }
}

// Animation keyframes
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Empty state for filter tags - removed to hide the text when no filters

/* üé® H·ªá th·ªëng m√†u theo nh√≥m tag */
.filter-tags .filter-tag,
.filter-tags-inline .filter-tag,
.search-input-section .filter-tag {
  
  /* üÜî 1. ƒê·ªãnh danh - ID, Serial Number */
  &.tag-id,
  &.tag-serial {
    background: #E8F0FE;
    color: #1A73E8;
    
    .icon-menu {
      filter: brightness(0) saturate(100%) invert(27%) sepia(96%) saturate(1706%) hue-rotate(213deg);
    }
    
    &:hover {
      background: #D2E3FC;
    }
  }
  
  /* üó∫Ô∏è 2. V·ªã tr√≠ / ƒê·ªãa l√Ω - V·ªã tr√≠, Khu v·ª±c */
  &.tag-location,
  &.tag-area,
  &.tag-zone {
    background: #FFF4E5;
    color: #B06000;
    
    .icon-menu {
      filter: brightness(0) saturate(100%) invert(42%) sepia(84%) saturate(1352%) hue-rotate(24deg);
    }
    
    &:hover {
      background: #FEE9C3;
      transform: translateY(-1px);
    }
  }
  
  /* üé• 3. Thi·∫øt b·ªã / Camera - T√™n camera, Model */
  &.tag-camera,
  &.tag-device,
  &.tag-name {
    background: #F3E8FD;
    color: #6A1B9A;
    
    .icon-menu {
      filter: brightness(0) saturate(100%) invert(25%) sepia(92%) saturate(1686%) hue-rotate(282deg);
    }
    
    &:hover {
      background: #E8D5F7;
    }
  }
  
  /* ‚úÖ 4. Tr·∫°ng th√°i - ƒê√£ x·ª≠ l√Ω, Ch∆∞a x·ª≠ l√Ω */
  &.tag-status,
  &.tag-processed,
  &.tag-pending {
    background: #E6F4EA;
    color: #137333;
    
    .icon-menu {
      filter: brightness(0) saturate(100%) invert(35%) sepia(84%) saturate(1515%) hue-rotate(104deg);
    }
    
    &:hover {
      background: #CEEAD6;
    }
  }
  
  /* üéØ 4.5. S·ª± ki·ªán - Event type filter */
  &.tag-event {
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    color: #FFFFFF;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
    
    .icon-menu {
      filter: brightness(0) invert(1);
    }
    
    &:hover {
      background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
      transform: translateY(-2px);
    }
  }
  
  /* üìÖ 5. Ng√†y th√°ng - ƒê·∫∑c bi·ªát cho date range */
  &.tag-date,
  &.tag-time {
    background: #FFF4E5;
    color: #B06000;
    
    .icon-menu {
      filter: brightness(0) saturate(100%) invert(42%) sepia(84%) saturate(1352%) hue-rotate(24deg);
    }
    
    &:hover {
      background: #FEE9C3;
      transform: translateY(-1px);
    }
  }
}

// Responsive design - T·ªëi ∆∞u cho mobile trong search-input-section
@media (max-width: 768px) {
  .search-input-section {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }
  
  .InputContainer {
    width: 100% !important;
    margin-right: 0 !important;
  }
  
  .filter-tags-inline {
    width: 100%;
    justify-content: flex-start;
  }
}

@media (max-width: 768px) {
  .filter-tags,
  .filter-tags-inline {
    margin-left: 0;
    gap: 6px;
    width: 100%;
  }
  
  .filter-tags .filter-tag,
  .filter-tags-inline .filter-tag,
  .search-input-section .filter-tag {
    padding: 3px 8px;
    font-size: 12px;
    border-radius: 12px;
    gap: 4px;
    
    .icon-menu {
      width: 14px;
      height: 14px;
    }
  }
  
  .filter-tags .remove-btn,
  .filter-tags-inline .remove-btn,
  .search-input-section .remove-btn {
    width: 16px;
    height: 16px;
    font-size: 10px;
    margin-left: 2px;
  }
  
  .search-row-container {
    gap: 6px;
  }
}

// Override ƒë·ªÉ ƒë·∫£m b·∫£o dropdown lu√¥n hi·ªÉn th·ªã tr√™n table nh∆∞ng kh√¥ng ƒë√® l√™n modal
:host {
  position: relative !important;
  z-index: 100;
}

// Global override cho dropdown menu
::ng-deep .menu-items {
  z-index: 200;
  position: fixed !important;
  width: 250px !important;
}

// Snackbar notification styles
::ng-deep .warning-snackbar {
  .mat-mdc-snack-bar-container {
    background-color: #ff9800 !important;
    color: white !important;
    
    .mdc-snackbar__surface {
      background-color: #ff9800 !important;
    }
    
    .mat-mdc-snack-bar-action {
      color: white !important;
      font-weight: bold;
    }
  }
}

::ng-deep .success-snackbar {
  .mat-mdc-snack-bar-container {
    background-color: #4caf50 !important;
    color: white !important;
    
    .mdc-snackbar__surface {
      background-color: #4caf50 !important;
    }
    
    .mat-mdc-snack-bar-action {
      color: white !important;
      font-weight: bold;
    }
  }
}

::ng-deep .info-snackbar {
  .mat-mdc-snack-bar-container {
    background-color: #2196f3 !important;
    color: white !important;
    
    .mdc-snackbar__surface {
      background-color: #2196f3 !important;
    }
    
    .mat-mdc-snack-bar-action {
      color: white !important;
      font-weight: bold;
    }
  }
}

// Add info notification styles for push-to-talk reminders
::ng-deep .info-snackbar {
  background-color: #2196f3 !important;
  color: white !important;
  
  .mat-mdc-snack-bar-label {
    color: white !important;
  }
  
  .mat-mdc-button {
    color: white !important;
  }
}

/* Status Submenu Styles */
.menu-item {
  position: relative;
  
  &.has-submenu {
    .submenu-arrow {
      width: 16px;
      height: 16px;
      stroke: #5F6368;
      stroke-width: 2;
      fill: none;
      margin-left: auto;
      transition: transform 0.2s ease;
    }
    
    &.submenu-open .submenu-arrow {
      transform: rotate(90deg);
    }
  }
}

.status-submenu {
  position: absolute;
  left: 0px;
  top: -20px;
  min-width: 140px;
  background: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 1001;
  overflow: hidden;
  animation: slideInRight 0.2s ease-out;
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.status-submenu-item {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 12px 16px;
  border: none;
  background: #FFFFFF;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  color: #3C4043;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
  
  &:hover {
    background-color: #F5F5F5;
    transform: translateX(3px);
    
    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 3px;
      background: #1976D2;
      border-radius: 0 2px 2px 0;
    }
  }
  
  &:not(:last-child) {
    border-bottom: 1px solid #E0E0E0;
  }
  
  &.processed {
    color: #4caf50;
    
    &:hover {
      background-color: rgba(76, 175, 80, 0.08);
      color: #388e3c;
      
      &::before {
        background: #4caf50;
      }
    }
  }
  
  &.pending {
    color: #f44336;
    
    &:hover {
      background-color: rgba(244, 67, 54, 0.08);
      color: #d32f2f;
      
      &::before {
        background: #f44336;
      }
    }
  }
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-right: 10px;
  flex-shrink: 0;
  transition: all 0.2s ease;
  
  &.processed-dot {
    background-color: #4caf50;
  }
  
  &.pending-dot {
    background-color: #f44336;
  }
}

/* Animation Keyframes */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* Enhanced hover effects */
.menu-items {
  animation: fadeInUp 0.2s ease-out;
}

.status-submenu-item:hover .status-dot {
  transform: scale(1.2);
  box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
  
  &.pending-dot {
    box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.2);
  }
}

/* Ripple effect for menu items */
.menu-item::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(25, 118, 210, 0.1);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.3s, height 0.3s;
  pointer-events: none;
  z-index: -1;
}

.menu-item:active::after {
  width: 100%;
  height: 100%;
}

/* Chevron icon rotation on menu open */
.dropdown-wrapper.open .chevron-icon {
  transform: rotate(180deg);
}

/* Dropdown Wrapper and Menu Items - Main Styles */
.dropdown-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  margin-right: 10px;
  flex-shrink: 0;
  z-index: 100;
}

.menu-button {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  background-color: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  color: #3C4043;
  min-width: 120px;
  height: 34px;
  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
  transition: all 0.2s ease;
  position: relative;
  z-index: 101;
  
  &:hover {
    background-color: #F5F5F5;
    box-shadow: rgba(33, 150, 243, 0.3) 0px 2px 8px 0px;
  }
  
  .chevron-icon {
    width: 16px;
    height: 16px;
    stroke: #5F6368;
    stroke-width: 2;
    fill: none;
    margin-left: 8px;
    transition: transform 0.2s ease;
  }
}

.menu-items {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  background: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 4px 12px 0px;
  z-index: 102;
  overflow: hidden;
  animation: slideDown 0.2s ease-out;
  min-width: 200px;
}

.menu-item {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 12px 16px;
  border: none;
  background: #FFFFFF;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  transition: all 0.2s ease;
  color: #3C4043;
  position: relative;
  
  &:hover {
    background-color: #F5F5F5;
    color: #1976D2;
    
    .icon-menu {
      color: #1976D2;
    }
    
    .shortcut {
      background-color: rgba(25, 118, 210, 0.1);
      color: #1976D2;
    }
  }
  
  &:not(:last-child) {
    border-bottom: 1px solid #F0F0F0;
  }
  
  &.has-submenu {
    position: relative;
    
    &:hover {
      background-color: #F5F5F5;
      
      .submenu-arrow {
        stroke: #1976D2;
        transform: translateX(2px);
      }
    }
  }
  
  .icon-menu {
    margin-right: 12px;
    color: #5F6368;
    width: 16px;
    height: 16px;
    transition: color 0.2s ease;
  }
  
  .shortcut {
    margin-left: auto;
    padding: 2px 6px;
    background-color: #F5F5F5;
    color: #5F6368;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    transition: all 0.2s ease;
  }
  
  .submenu-arrow {
    margin-left: auto;
    width: 14px;
    height: 14px;
    stroke: #5F6368;
    stroke-width: 2;
    fill: none;
    transition: all 0.2s ease;
  }
}

/* Status Submenu Styles */
.status-submenu {
  position: absolute;
  left: 100%;
  top: 0;
  background: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 4px 12px 0px;
  z-index: 103;
  overflow: hidden;
  animation: slideRight 0.2s ease-out;
  min-width: 150px;
  margin-left: 4px;
}

@keyframes slideRight {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.status-option {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 12px 16px;
  border: none;
  background: #FFFFFF;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  transition: all 0.2s ease;
  
  &:not(:last-child) {
    border-bottom: 1px solid #F0F0F0;
  }
  
  &.processed {
    color: #4caf50;
    
    &:hover {
      background-color: rgba(76, 175, 80, 0.08);
      transform: translateX(2px);
      
      .status-dot {
        transform: scale(1.2);
        box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
      }
    }
  }
  
  &.pending {
    color: #f44336;
    
    &:hover {
      background-color: rgba(244, 67, 54, 0.08);
      transform: translateX(2px);
      
      .status-dot {
        transform: scale(1.2);
        box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.2);
      }
    }
  }
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-right: 10px;
  flex-shrink: 0;
  transition: all 0.2s ease;
  
  &.processed-dot {
    background-color: #4caf50;
  }
  
  &.pending-dot {
    background-color: #f44336;
  }
}
/* Status Submenu Styles */
.status-submenu {
  position: absolute;
  left: 100%;
  top: 0;
  background: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 4px 12px 0px;
  z-index: 1000;
  overflow: hidden;
  animation: slideInRight 0.2s ease-out;
  min-width: 140px;
  margin-left: 4px;
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.status-submenu-item {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 12px 16px;
  border: none;
  background: #FFFFFF;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  color: #3C4043;
  transition: all 0.2s ease;
  
  &:hover {
    background-color: #F5F5F5;
  }
  
  &:not(:last-child) {
    border-bottom: 1px solid #F0F0F0;
  }
  
  &.processed {
    color: #4caf50;
    
    &:hover {
      background-color: rgba(76, 175, 80, 0.08);
    }
  }
  
  &.pending {
    color: #f44336;
    
    &:hover {
      background-color: rgba(244, 67, 54, 0.08);
    }
  }
}

/* Status Select - Matching Main Dropdown Style */
.status-select {
  position: relative;
  width: 170px;
  height: 34px;
  display: flex;
  align-items: center;
  margin-right: 10px;
  flex-shrink: 0;
  z-index: 100;
}

.status-select-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  background-color: #FFFFFF;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  color: #3C4043;
  width: 100%;
  height: 32px;
  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
  transition: all 0.2s ease;
  position: relative;
  z-index: 101;
  
  &:hover {
    background-color: #F5F5F5;
  }
  
  .select-text {
    flex: 1;
    text-align: left;
    font-weight: 500;
  }
  
  .chevron-icon {
    width: 16px;
    height: 16px;
    stroke: #5F6368;
    stroke-width: 2;
    fill: none;
    margin-left: 8px;
    transition: transform 0.2s ease;
  }
  
  &.open .chevron-icon {
    transform: rotate(180deg);
  }
}

.status-select-options {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  background: #FFFFFF;
  border: none;
  border-radius: 8px;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 4px 12px 0px;
  z-index: 102;
  overflow: hidden;
  animation: slideDown 0.2s ease-out;
  min-width: 200px;
}

.status-option {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 12px 16px;
  border: none;
  background: #FFFFFF;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  transition: all 0.2s ease;
  color: #3C4043;
  position: relative;
  
  &:hover {
    background-color: #F5F5F5;
  }
  
  &:not(:last-child) {
    border-bottom: 1px solid #F0F0F0;
  }
  
  // Processed option
  &.processed {
    color: #4caf50;
    font-weight: 600;
    
    &:hover {
      background-color: rgba(76, 175, 80, 0.08);
      color: #2e7d32;
    }
  }
  
  // Pending option  
  &.pending {
    color: #f44336;
    font-weight: 600;
    
    &:hover {
      background-color: rgba(244, 67, 54, 0.08);
      color: #c62828;
    }
  }
}

/* Status Select - Fix outline issue */
.status-select {
  position: relative;
  width: 170px;
  min-width: 160px;
  height: 32px;
  display: flex;
  align-items: center;
  margin-right: 10px;
  flex-shrink: 1;
  z-index: 100;
}

.status-select-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 12px;
  background-color: #FFFFFF;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  color: #3C4043;
  width: 100%;
  height: 32px;
  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
  transition: all 0.2s ease;
  position: relative;
  z-index: 101;
  outline: none !important;
  
  &:hover {
    background-color: #F5F5F5;
  }
  
  &:focus {
    outline: none !important;
    box-shadow: rgba(99, 99, 99, 0.3) 0px 2px 8px 0px;
  }
  
  .select-text {
    flex: 1;
    text-align: left;
    font-weight: 500;
  }
  
  .chevron-icon {
    width: 16px;
    height: 16px;
    stroke: #5F6368;
    stroke-width: 2;
    fill: none;
    margin-left: 8px;
    transition: transform 0.2s ease;
  }
  
  &.open .chevron-icon {
    transform: rotate(180deg);
  }
}

.status-select-options {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  background: #FFFFFF;
  border: none;
  border-radius: 8px;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 4px 12px 0px;
  z-index: 102;
  overflow: hidden;
  animation: slideDown 0.2s ease-out;
  min-width: 170px;
}

.status-option {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 10px 16px;
  border: none;
  background: #FFFFFF;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  transition: all 0.2s ease;
  color: #3C4043;
  position: relative;
  outline: none !important;
  
  &:hover {
    background-color: #F5F5F5;
  }
  
  &:focus {
    outline: none !important;
  }
  
  &:not(:last-child) {
    border-bottom: 1px solid #F0F0F0;
  }
  
  // Processed option
  &.processed {
    color: #4caf50;
    font-weight: 600;
    
    &:hover {
      background-color: rgba(76, 175, 80, 0.08);
      color: #2e7d32;
    }
  }
  
  // Pending option  
  &.pending {
    color: #f44336;
    font-weight: 600;
    
    &:hover {
      background-color: rgba(244, 67, 54, 0.08);
      color: #c62828;
    }
  }
}

// ============= EVENT TYPE SELECT STYLES (2-LEVEL HIERARCHY) =============

.event-select {
  position: relative;
  width: auto;
  min-width: 200px;
  max-width: 350px;
  height: 32px;
  display: flex;
  align-items: center;
  margin-right: 10px;
  flex: 1;
  flex-shrink: 1;
  z-index: 100;
}

.event-select-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 12px;
  background-color: #FFFFFF;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  color: #3C4043;
  width: 100%;
  height: 32px;
  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
  transition: all 0.2s ease;
  position: relative;
  z-index: 101;
  outline: none !important;
  
  &:hover {
    background-color: #F5F5F5;
  }
  
  &:focus {
    outline: none !important;
    box-shadow: rgba(99, 99, 99, 0.3) 0px 2px 8px 0px;
  }
  
  // Style when an event type is selected
  &.selected {
    background-color: #E3F2FD;
    border: 1px solid #1976d2;
    color: #1976d2;
    font-weight: 600;
    
    &:hover {
      background-color: #BBDEFB;
    }
    
    .chevron-icon {
      stroke: #1976d2;
    }
  }
  
  .select-text {
    flex: 1;
    text-align: left;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .chevron-icon {
    width: 16px;
    height: 16px;
    stroke: #5F6368;
    stroke-width: 2;
    fill: none;
    margin-left: 8px;
    transition: transform 0.2s ease;
    flex-shrink: 0;
  }
  
  &.open .chevron-icon {
    transform: rotate(180deg);
  }
}

.event-select-options {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  background: #FFFFFF;
  border: none;
  border-radius: 8px;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 4px 12px 0px;
  z-index: 102;
  overflow-y: auto;
  max-height: 500px;
  animation: slideDown 0.2s ease-out;
  min-width: 350px;
  max-width: 500px;
}

.event-category {
  padding: 8px 0;
  
  &:not(:last-child) {
    border-bottom: 2px solid #E0E0E0;
  }
}

.category-header {
  padding: 10px 16px;
  font-size: 13px;
  font-weight: 700;
  color: #1976d2;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background: linear-gradient(90deg, #E3F2FD 0%, transparent 100%);
  border-left: 4px solid #1976d2;
}

.category-items {
  padding: 4px 0;
}

.event-item {
  display: flex;
  flex-direction: column;
}

.event-option {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 10px 16px 10px 24px;
  border: none;
  background: #FFFFFF;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  text-align: left;
  transition: all 0.2s ease;
  color: #3C4043;
  position: relative;
  outline: none !important;
  
  &:hover:not([disabled]) {
    background-color: #F5F5F5;
    color: #1976d2;
  }
  
  &:focus {
    outline: none !important;
  }
  
  // Selected state
  &.selected {
    background-color: #E3F2FD;
    color: #1976d2;
    font-weight: 600;
    
    &::after {
      content: '‚úì';
      position: absolute;
      right: 16px;
      color: #1976d2;
      font-weight: bold;
      font-size: 16px;
    }
  }
  
  &.has-subitems {
    font-weight: 600;
    color: #5F6368;
    cursor: default;
    padding-left: 20px;
    
    &:hover {
      background-color: transparent;
      color: #5F6368;
    }
    
    &::before {
      content: '‚ñº';
      position: absolute;
      left: 8px;
      font-size: 10px;
      color: #9E9E9E;
    }
  }
  
  &:not(.has-subitems):not(:last-child) {
    border-bottom: 1px solid #F0F0F0;
  }
}

.event-subitems {
  background-color: #FAFAFA;
  padding: 4px 0;
  margin-left: 16px;
  border-left: 2px solid #E0E0E0;
}

.event-subitem {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 8px 16px 8px 32px;
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 12px;
  font-weight: 400;
  text-align: left;
  transition: all 0.2s ease;
  color: #5F6368;
  position: relative;
  outline: none !important;
  
  &:hover {
    background-color: #E3F2FD;
    color: #1976d2;
  }
  
  &:focus {
    outline: none !important;
  }
  
  // Selected state
  &.selected {
    background-color: #BBDEFB;
    color: #1976d2;
    font-weight: 600;
    
    &::after {
      content: '‚úì';
      position: absolute;
      right: 16px;
      color: #1976d2;
      font-weight: bold;
      font-size: 14px;
    }
    
    &::before {
      background-color: #1976d2;
      transform: scale(1.5);
    }
  }
  
  &:not(:last-child) {
    border-bottom: 1px solid #EEEEEE;
  }
  
  &::before {
    content: '';
    position: absolute;
    left: 20px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background-color: #9E9E9E;
    transition: all 0.2s ease;
  }
  
  &:hover::before {
    background-color: #1976d2;
    transform: scale(1.3);
  }
}

// ============= END EVENT TYPE SELECT STYLES =============

// ============= IMAGE UPLOAD STYLES =============
.image-upload-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 16px;
  height: 100%;
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  color: #3b82f6;
  transition: all 0.2s ease;
  outline: none;
  white-space: nowrap;

  .upload-icon {
    width: 16px;
    height: 16px;
    color: #3b82f6;
  }

  &:hover {
    background: #eff6ff;
    color: #2563eb;

    .upload-icon {
      color: #2563eb;
    }
  }

  &:active {
    transform: scale(0.98);
  }
}

// Image Upload Modal
.image-upload-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  backdrop-filter: blur(4px);
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.image-upload-modal {
  background: white;
  border-radius: 16px;
  max-width: 550px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  border-bottom: 1px solid #e5e7eb;

  h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    color: #1f2937;
  }

  .close-button {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    cursor: pointer;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    padding: 0;

    svg {
      width: 20px;
      height: 20px;
      color: #6b7280;
    }

    &:hover {
      background: #f3f4f6;

      svg {
        color: #1f2937;
      }
    }
  }
}

.modal-body {
  padding: 24px;
}

// Responsive modal
@media (max-width: 640px) {
  .image-upload-modal {
    max-width: 100%;
    width: 95%;
    border-radius: 12px;
  }

  .modal-header {
    padding: 16px 20px;

    h3 {
      font-size: 16px;
    }
  }

  .modal-body {
    padding: 20px;
  }
}

// Image tag styling
.tag-image {
  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
  border-color: #3b82f6;
  cursor: pointer;
  transition: all 0.2s ease;

  .icon-menu,
  .tag-label,
  .tag-value {
    color: white;
  }

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
    background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
  }

  .remove-btn {
    background: rgba(255, 255, 255, 0.2);
    color: white;

    &:hover {
      background: rgba(255, 255, 255, 0.3);
    }
  }
}
